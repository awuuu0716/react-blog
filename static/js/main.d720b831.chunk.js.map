{"version":3,"sources":["utils.js","WebAPI.js","contexts.js","pages/LoginPage/LoginPage.js","pages/SignUpPage/SignUpPage.js","pages/HomePage/HomePage.js","pages/PostPage/PostPage.js","pages/NewPostPage/NewPostPage.js","pages/AboutPage/AboutPage.js","components/Header/Header.js","components/App/App.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPaginatePosts","page","fetch","then","res","json","getMe","headers","authorization","AuthContext","createContext","ErrorMessage","styled","div","Form","form","LoginPage","setUser","useContext","useState","username","setUsername","password","setPassword","errorMessage","setErrorMessage","history","useHistory","isSubmit","useRef","onSubmit","e","preventDefault","current","method","body","JSON","stringify","login","data","ok","message","response","toString","push","value","onChange","target","required","type","SignUpPage","nickname","setNickname","signUp","Root","PostContainer","PostTitle","Link","PostDate","PaginateContainer","ul","Paginate","li","Post","post","to","id","title","createdAt","Date","toLocaleString","HomePage","paginate","setPaginate","posts","setPosts","useEffect","totalPages","Math","ceil","length","tempArr","i","createPaginateArr","handleClickPaginate","map","onClick","PostBody","PostPage","postData","setPostData","useParams","getPost","InputContainer","InputTitle","input","InputStory","textarea","SubmitButton","button","NewPostPage","setTitle","content","setContent","newPost","placeholder","rows","AboutTitle","AboutBody","AboutPage","HeaderContainer","Brand","NavbarList","Nav","props","$active","LeftContainer","Header","user","pathname","useLocation","App","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d720b831.chunk.js","sourcesContent":["const TOKEN_NAME = 'token';\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\n\nexport const createPaginateArr = (totalPages) => {\n  const tempArr = [];\n  for (let i = 1; i <= totalPages; i++) {\n    tempArr.push(i);\n  }\n  return tempArr;\n};\n","import { getAuthToken } from './utils';\n\nconst BASE_URL = 'https://student-json-api.lidemy.me';\n\nexport const getAllPosts = () => {\n  return fetch(`${BASE_URL}/posts?_sort=id&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n\nexport const getPaginatePosts = (page) => {\n  return fetch(\n    `${BASE_URL}/posts?_page=${page}&_limit=5&_sort=id&_order=desc`\n  ).then((res) => res.json());\n};\n\nexport const getPost = (id) => {\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json());\n};\n\nexport const login = (username, password) =>\n  fetch(`${BASE_URL}/login`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n\nexport const signUp = (nickname, username, password) =>\n  fetch(`${BASE_URL}/register`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const newPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n","import { createContext } from 'react';\n\nexport const AuthContext = createContext(null);\n","import { useState, useContext, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { login, getMe } from '../../WebAPI';\nimport { setAuthToken } from '../../utils';\nimport { AuthContext } from '../../contexts';\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  width: 500px;\n  height: 120px;\n  padding: 20px;\n  margin: 100px auto;\n  border: 1px solid #fbfbfb;\n  box-shadow: 1px 1px 3px #fbfbfb;\n`;\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const history = useHistory();\n  const isSubmit = useRef(false);\n\n  const handleSubmit = (e) => {\n    setErrorMessage('');\n    e.preventDefault();\n    if (isSubmit.current) return;\n    isSubmit.current = true;\n    login(username, password).then((data) => {\n      if (data.ok === 0) return setErrorMessage(data.message);\n      setAuthToken(data.token);\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken('');\n          return setErrorMessage(response.toString());\n        }\n        setUser(response.data);\n        history.push('/');\n        isSubmit.current = false;\n      });\n    });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <div>\n        username:\n        <input\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n      </div>\n      <div>\n        password:\n        <input\n          value={password}\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n      </div>\n      <button type=\"submit\">Log in</button>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n    </Form>\n  );\n}\n","import { useState, useContext, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { signUp, getMe } from '../../WebAPI';\nimport { setAuthToken } from '../../utils';\nimport { AuthContext } from '../../contexts';\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  width: 500px;\n  height: 120px;\n  padding: 20px;\n  margin: 100px auto;\n  border: 1px solid #fbfbfb;\n  box-shadow: 1px 1px 3px #fbfbfb;\n`;\n// submit 需加上不能一直按的功能\n\nexport default function SignUpPage() {\n  const { setUser } = useContext(AuthContext);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [nickname, setNickname] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const isSubmit = useRef(false);\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    setErrorMessage('');\n    e.preventDefault();\n    if (isSubmit.current) return;\n    isSubmit.current = true;\n    signUp(nickname, username, password).then((data) => {\n      if (data.ok === 0) return setErrorMessage(data.message);\n      setAuthToken(data.token);\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken('');\n          return setErrorMessage(response.toString());\n        }\n        setUser(response.data);\n        history.push('/');\n        isSubmit.current = false;\n      });\n    });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <div>\n        nickname:\n        <input\n          value={nickname}\n          onChange={(e) => setNickname(e.target.value)}\n          required\n        />\n      </div>\n      <div>\n        username:\n        <input\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n      </div>\n      <div>\n        password:\n        <input\n          value={password}\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n      </div>\n\n      <button type=\"submit\">Sign Up</button>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n    </Form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { getAllPosts, getPaginatePosts } from '../../WebAPI';\nimport { createPaginateArr } from '../../utils';\n\nconst Root = styled.div`\n  width: 40%;\n  margin: 0 auto;\n`;\nconst PostContainer = styled.div`\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n\n  &:hover {\n    background: rgba(200, 200, 200, 0.1);\n  }\n`;\nconst PostTitle = styled(Link)`\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n`;\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.8);\n`;\n\nconst PaginateContainer = styled.ul`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  padding: 0;\n`;\n\nconst Paginate = styled.li`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 25px;\n  height: 25px;\n  margin: 0 10px;\n  border: 1px solid #fbfbfb;\n  border-radius: 3px;\n  list-style: none;\n  cursor: pointer;\n  font-size: 20px;\n  &:hover {\n    background: rgba(200, 200, 200, 0.1);\n  }\n`;\n\nfunction Post({ post }) {\n  return (\n    <PostContainer>\n      <PostTitle to={`/post/${post.id}`}>{post.title}</PostTitle>\n      <PostDate>\n        {post.createdAt && new Date(post.createdAt).toLocaleString()}\n      </PostDate>\n    </PostContainer>\n  );\n}\n\nexport default function HomePage() {\n  const [paginate, setPaginate] = useState([]);\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    getAllPosts().then((posts) => {\n      const totalPages = Math.ceil(posts.length / 5);\n      setPaginate(createPaginateArr(totalPages));\n      getPaginatePosts(1).then((posts) => {\n        setPosts(posts);\n      });\n    });\n  }, []);\n\n  const handleClickPaginate = (page) => () => {\n    getPaginatePosts(page).then((posts) => {\n      setPosts(posts);\n    });\n  };\n\n  return (\n    <Root>\n      {posts.length > 0 ? (\n        posts.map((post) => <Post post={post} key={post.id} />)\n      ) : (\n        <Post post={{ title: 'Loading...' }} />\n      )}\n      <PaginateContainer>\n        {posts.length > 0 &&\n          paginate.map((page) => (\n            <Paginate onClick={handleClickPaginate(page)} key={page}>\n              {page}\n            </Paginate>\n          ))}\n      </PaginateContainer>\n    </Root>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { getPost } from '../../WebAPI';\nimport { useParams } from 'react-router-dom';\n\nconst Root = styled.div`\n  width: 40%;\n  margin: 0 auto;\n  padding-top: 50px;\n`;\n\nconst PostTitle = styled.div`\n  font-size: 48px;\n  font-weight: bold;\n  color: #333;\n  margin: 10px 0;\n`;\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.8);\n  margin-bottom: 20px;\n`;\n\nconst PostBody = styled.div`\n  font-size: 24px;\n  color: #333;\n`;\n\nexport default function PostPage() {\n  const [postData, setPostData] = useState('');\n  const { id } = useParams();\n\n  useEffect(() => {\n    getPost(id).then((post) => setPostData(post[0]));\n  });\n\n  return (\n    <Root>\n      <div>\n        <PostTitle>{postData && postData.title}</PostTitle>\n        <PostDate>\n          {postData && new Date(postData.createdAt).toLocaleString()}\n        </PostDate>\n        <PostBody>{postData.body || ''}</PostBody>\n      </div>\n    </Root>\n  );\n}\n","import { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { newPost } from '../../WebAPI';\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  width: 800px;\n  padding: 20px;\n  margin: 60px auto;\n  border: 1px solid #fbfbfb;\n  box-shadow: 1px 1px 3px #fbfbfb;\n`;\n\nconst InputContainer = styled.div`\n  width:100%;\n`;\n\nconst InputTitle = styled.input`\n  border: none;\n  font-size: 40px;\n  font-weight: bold;\n  outline: none;\n  color: #333;\n  margin-bottom: 20px;\n  border-bottom: 2px solid rgba(0, 0, 0, 0);\n  transition: border 0.2s ease-in-out;\n\n  &:focus {\n    border-bottom: 2px solid rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst InputStory = styled.textarea`\n  width: 100%;\n  border: none;\n  font-size: 24px;\n  outline: none;\n  resize: none;\n`;\n\nconst SubmitButton = styled.button`\n  width: 80px;\n  height: 35px;\n  border: none;\n  outline: none;\n  background: rgb(26, 137, 23);\n  cursor: pointer;\n  border-radius: 5px;\n  color: #fff;\n\n  &:hover {\n    background: rgb(12, 110, 15);\n  }\n`;\n\n\n\nexport default function NewPostPage() {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const history = useHistory();\n  const isSubmit = useRef(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isSubmit.current) return\n    isSubmit.current = true;\n      newPost(title, content).then((response) => {\n        if (response.ok === 0) return setErrorMessage(response.message);\n        history.push('/');\n        isSubmit.current = false;\n      });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <InputContainer>\n        <InputTitle\n          placeholder=\"Title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n      </InputContainer>\n      <InputContainer>\n        <InputStory\n          rows=\"10\"\n          placeholder=\"Tell your story...\"\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n          required\n        />\n      </InputContainer>\n      <SubmitButton type=\"submit\">Submit</SubmitButton>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n    </Form>\n  );\n}\n","import styled from 'styled-components';\n\nconst Root = styled.div`\n  width: 40%;\n  margin: 0 auto;\n  padding-top: 50px;\n`;\n\nconst AboutTitle = styled.div`\n  font-size: 48px;\n  font-weight: bold;\n  text-align: center;\n  color: #333;\n  margin: 10px 0;\n`;\n\nconst AboutBody = styled.div`\n  font-size: 24px;\n  color: #333;\n`;\n\nexport default function AboutPage() {\n  return (\n    <Root>\n      <div>\n        <AboutTitle>About This Blog</AboutTitle>\n        <AboutBody>A blog that made up with React, still practing T_T.</AboutBody>\n      </div>\n    </Root>\n  );\n}\n","import { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { AuthContext } from '../../contexts';\nimport { setAuthToken } from '../../utils';\n\nconst HeaderContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 0 32px;\n  background: white;\n`;\n\nconst Brand = styled(Link)`\n  color: black;\n  text-decoration: none;\n  user-select: none;\n  font-size: 32px;\n  font-weight: bold;\n`;\n\nconst NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n  height: 64px;\n`;\n\nconst Nav = styled(Link)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ${(props) =>\n    props.$active &&\n    `\n    background: rgba(0,0,0,0.1)\n  `}\n`;\n\nconst LeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 16px;\n  }\n`;\n\nexport default function Header() {\n  const { user, setUser } = useContext(AuthContext);\n  const pathname = useLocation().pathname;\n  const history = useHistory();\n\n  const handleLogout = () => {\n    setAuthToken('');\n    setUser(null);\n    if (pathname !== '/') history.push('/');\n  };\n\n  return (\n    <HeaderContainer>\n      <LeftContainer>\n        <Brand to=\"/\">Blog</Brand>\n        <NavbarList>\n          <Nav to=\"/\" $active={pathname === '/'}>\n            HomePage\n          </Nav>\n          <Nav to=\"/about\" $active={pathname === '/about'}>\n            About\n          </Nav>\n          {user && (\n            <Nav to=\"/new-post\" $active={pathname === '/new-post'}>\n              New Post\n            </Nav>\n          )}\n        </NavbarList>\n      </LeftContainer>\n      <NavbarList>\n        {!user && (\n          <Nav to=\"/login\" $active={pathname === '/login'}>\n            Log in\n          </Nav>\n        )}\n        {!user && (\n          <Nav to=\"/sign-up\" $active={pathname === '/sign-up'}>\n            Sign up\n          </Nav>\n        )}\n        {user && <Nav onClick={handleLogout}>log out</Nav>}\n      </NavbarList>\n    </HeaderContainer>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport LoginPage from '../../pages/LoginPage';\nimport SignUpPage from '../../pages/SignUpPage';\nimport HomePage from '../../pages/HomePage';\nimport PostPage from '../../pages/PostPage';\nimport NewPostPage from '../../pages/NewPostPage';\nimport AboutPage from '../../pages/AboutPage';\nimport Header from '../Header';\nimport { getMe } from '../../WebAPI';\nimport { getAuthToken } from '../../utils';\nimport { AuthContext } from '../../contexts';\n\n\nconst Root = styled.div`\n  padding-top: 64px;\n`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    if (getAuthToken())\n      getMe().then((response) => {\n        if (response.ok) setUser(response.data);\n      });\n  },[]);\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Root>\n        <Router>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route exact path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Route path=\"/post/:id\">\n              <PostPage />\n            </Route>\n            <Route path=\"/new-post\">\n              <NewPostPage />\n            </Route>\n            <Route path=\"/about\">\n              <AboutPage />\n            </Route>\n            <Route path=\"/sign-up\">\n              <SignUpPage />\n            </Route>\n          </Switch>\n        </Router>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}